<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Pandemic</title>
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />
    <script type="text/javascript" src="js/third-party/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="js/third-party/seedrandom.min.js"></script>
    <script type="text/javascript" src="js/third-party/three.min.js"></script>
    <script type="text/javascript" src="js/third-party/tween.min.js"></script>
    <script type="text/javascript" src="js/third-party/perlinsimplex.min.js"></script>
    <script type="text/javascript" src="js/third-party/hqx.min.js"></script>
    <script type="text/javascript" src="js/Renderer.js"></script>
    <script type="text/javascript" src="js/UserInterface.js"></script>
    <script type="text/javascript" src="js/Generator.js"></script>
    <script type="text/javascript" src="js/Simulator.js"></script>
</head>
<body>
    <div id="container" style="display: none;"></div>
    <div id="ui"><div id="ui_mask"></div></div>

    <script>
        var UI,R,G,S,
            globeTexture,globeHeightmap,myEarth,seed;
        $(function() {
            R = Renderer();
            UI = UserInterface(R);

            var d = new Date();
            seed = d.getTime();
            G = Generator(UI,seed,{ //1359849459242 //1360623938563 //1361175814212 ([broken country, country outside of array]:1363392047149)
                tx_w: 720
            });
            UI.setGenerator(G);

            UI.init(begin);
        });

        function begin() {
            G.init(function() {
                R.init(G);
                // Clean up objects in the generator that are now unneeded.
                // Function also initializes UI.
                S = new Simulator(['main'],G,R,UI);
                UI.setSimulator(S);
                G.endLoad();

                S.start('main');
                R.animate();
            });            
        }
    </script>
</body>
</html>